<p>Notice the <strong>unrealistic</strong> in the title… I did not bothered to check if it was realistic or not :grinning: but just wrote my wish-list.</p>

<p>Here is my list:</p>
<ol>
  <li><a href="#Unicode">Unicode and UTF-8 by default</a></li>
  <li><a href="#Index">Indexing strings</a></li>
  <li><a href="#Cor">Native Object Oriented system</a></li>
  <li><a href="#Signatures">Signatures</a></li>
  <li><a href="#CPANCli">A config-free CPAN client in the core</a></li>
  <li><a href="#Images">Images in POD</a></li>
  <li><a href="#Smart">Smart Match</a></li>
  <li><a href="#REPL">A much better REPL</a></li>
  <li><a href="#More">And more…</a></li>
</ol>

<h1 id="unicode-and-utf-8-by-default-">Unicode and UTF-8 by default <a name="Unicode"></a></h1>
<p>Today when using UTF-8 in Perl, you often have to explicitly declare it. For example like the following:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nb">open</span> <span class="p">'</span><span class="s1">:std</span><span class="p">',</span> <span class="p">'</span><span class="s1">:encoding(UTF-8)</span><span class="p">';</span>
<span class="k">print</span> <span class="p">"</span><span class="se">\x{2717}\n</span><span class="p">";</span>
</code></pre></div></div>
<p>(or you will see a <code class="language-plaintext highlighter-rouge">Wide character in print at test.pl line 6.</code>)</p>

<p>On the other hand, if you give the glyph instead the code point, it is working fine, like the following:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>perl <span class="nt">-e</span> <span class="s1">'print "André\n"'</span>
André
</code></pre></div></div>
<p>(My editor and terminal are UTF-8)</p>

<p>But more strange if you add <code class="language-plaintext highlighter-rouge">use utf8</code> it starts to do bad things:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>perl <span class="nt">-e</span> <span class="s1">'use utf8; print "André\n"'</span>
Andr�
</code></pre></div></div>
<p>But adding the <code class="language-plaintext highlighter-rouge">use open</code> will give you back the correct output:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>perl <span class="nt">-e</span> <span class="s1">'use utf8; use open ":std", ":encoding(UTF-8)"; print "André\n"'</span>
André
</code></pre></div></div>

<p>The topic of Unicode and UTF-8 is over complicated and I’m not an expert, but I can say that it’s not transparent in Perl 5 and I can give you the link of this <a href="https://dev.to/fgasper/perl-unicode-and-bytes-5cg7">blog post</a> :grinning:</p>

<p>Python <strong>2</strong> had also problems with UTF-8 and required to add a magic comment like this:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -*- coding: utf-8 -*-
</span>
<span class="k">print</span> <span class="s">"André"</span>
</code></pre></div></div>
<p>Or using “unicode strings” if you wanted to give the code point:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -*- coding: utf-8 -*-
</span>
<span class="k">print</span> <span class="sa">u</span><span class="s">"</span><span class="se">\u2717</span><span class="s">"</span><span class="p">;</span>
</code></pre></div></div>

<p>Python <strong>2</strong> was especially annoying since an UTF-8 character in the source file would lead to an error <code class="language-plaintext highlighter-rouge">Non-ASCII character '\xc3'</code>, even in a comment (!):</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># s = "André"
# BOOM!
</span></code></pre></div></div>

<p>But it was improved a lot in Python 3.</p>

<p>The strings are internally represented as Unicode and the default encoding of file is UTF-8:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python3 <span class="nt">-c</span> <span class="s1">'print("\u2717")'</span>
✗
</code></pre></div></div>
<p>Or</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>python3 <span class="nt">-c</span> <span class="s1">'print("André")'</span>
André
</code></pre></div></div>

<p>The magic encoding then becomes generally useless except if the encoding is not UTF-8:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># -*- coding: iso-8859-15 -*-
</span><span class="n">s</span> <span class="o">=</span> <span class="s">"ISO André"</span> <span class="c1"># This is not UTF-8
</span><span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</code></pre></div></div>
<p>If you forget the magic encoding comment, you will get a the terrible error:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SyntaxError: Non-UTF-8 code starting with '\xe9' in file test6.py on line 1, but no encoding declared; see http://python.org/dev/peps/pep-0263/ for details
</code></pre></div></div>
<h1 id="indexing-strings-">Indexing strings <a name="Index"></a></h1>
<p>While we can access items of an array (declared <code class="language-plaintext highlighter-rouge">@array</code>) with index <code class="language-plaintext highlighter-rouge">$array[1]</code> or slice <code class="language-plaintext highlighter-rouge">@array[1,2]</code> we can’t apply the same kind of index on simple scalars holding strings.</p>

<p>What I would like to do is:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">my</span> <span class="nv">$str</span> <span class="o">=</span> <span class="p">"</span><span class="s2">bazinga</span><span class="p">";</span>
<span class="k">print</span> <span class="nv">$str</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</code></pre></div></div>
<p>Or slicing (substring):</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">my</span> <span class="nv">$str</span> <span class="o">=</span> <span class="p">"</span><span class="s2">bazinga</span><span class="p">";</span>
<span class="k">print</span> <span class="nv">$str</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>
</code></pre></div></div>
<p>Both are achievable with <code class="language-plaintext highlighter-rouge">substr</code>:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">my</span> <span class="nv">$str</span> <span class="o">=</span> <span class="p">"</span><span class="s2">bazinga</span><span class="p">";</span>
<span class="k">print</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div></div>
<p>Or by converting before the string into array with <code class="language-plaintext highlighter-rouge">split</code>:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">my</span> <span class="nv">$str</span> <span class="o">=</span> <span class="p">"</span><span class="s2">bazinga</span><span class="p">";</span> 
<span class="k">my</span> <span class="nv">@array</span> <span class="o">=</span> <span class="nb">split</span><span class="p">("",</span> <span class="nv">$str</span><span class="p">);</span> 
<span class="k">print</span> <span class="nv">@array</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>
<p>But it is extra gymnastic that I would like to avoid if it was possible :smiley:</p>

<p>I could even imagine mixing indexing on scalar and array slices:</p>
<div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">my</span> <span class="nv">@array</span> <span class="o">=</span> <span class="p">("</span><span class="s2">foo</span><span class="p">",</span> <span class="p">"</span><span class="s2">bar</span><span class="p">",</span> <span class="p">"</span><span class="s2">baz</span><span class="p">");</span> 
<span class="k">print</span> <span class="nv">$array</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="c1"># "bar"</span>
<span class="k">print</span> <span class="nv">$array</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># "a"</span>
</code></pre></div></div>

<p>This feature is maybe impossible to implement (is there some cases where syntax will conflict? short answer is YES, see below), but do I mentioned that this wish-list was unrealistic?
<img src="/assets/images/29y4ckmvzajdwzjne3xv.jpg" alt="Crazy" /></p>

<p>EDIT : As pointed by “quote-only-eeee” on reddit, it is definitely conflicting since both <code class="language-plaintext highlighter-rouge">$a</code> and <code class="language-plaintext highlighter-rouge">@a</code> could live together in a Perl program and <code class="language-plaintext highlighter-rouge">$a[0]</code> would not be able to choose on which one to apply.</p>

<h1 id="native-object-oriented-system-">Native Object Oriented system <a name="Cor"></a></h1>
<p>For those who don’t know, there is the initiative <a href="https://github.com/Ovid/Cor/wiki">Cor(inna)</a> and I’m firmly waiting for it.</p>

<p>Go for the native Object Oriented capabilities of Perl!
<img src="/assets/images/68b2fr6jae0o3qjznj5w.jpg" alt="Go for it" /></p>

<h1 id="signatures-">Signatures <a name="Signatures"></a></h1>
<p>We discussed a lot already (<a href="https://dev.to/thibaultduponchelle/perl-in-2025-fosdem-video-review-1k70">here</a> and @mjgardner wrote great posts about it <a href="https://dev.to/mjgardner/better-perl-with-subroutine-signatures-and-type-validation-2bck">here</a> and <a href="https://dev.to/mjgardner/de-experimentalizing-perl-subroutine-signatures-4k0l">here</a>)</p>

<p>It is the first thing to come, and I’m very happy to have it.</p>

<h1 id="a-config-free-cpan-client-in-the-core-">A config-free CPAN client in the core <a name="CPANCli"></a></h1>
<p>We have a CPAN client in the core but it is not <em>deadly</em> simple.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cpan Acme::LSD

CPAN.pm requires configuration, but most of it can be done automatically.
If you answer 'no' below, you will enter an interactive dialog for each
configuration option instead.

Would you like to configure as much as possible automatically? [yes] ^C
</code></pre></div></div>

<p>Maybe we could integrate <a href="https://metacpan.org/pod/distribution/App-cpanminus/bin/cpanm">cpanm</a> or <a href="https://github.com/skaji/cpm">cpm</a> in the core?</p>

<p>If you wonder, python <code class="language-plaintext highlighter-rouge">pip</code> is config-free and is in the core (since 3.4)</p>

<h1 id="images-in-pod-">Images in POD <a name="Images"></a></h1>
<p>It’s really missing.</p>

<p>You can emulate with HTML in POD:
<img src="/assets/images/sn59pyrjcm7e5etmmtww.png" alt="Image in POD" />
But it’s not very handy.</p>

<p>Having it directly in the POD format would be great and there was an early attempt to add it (see this <a href="https://github.com/Perl/perl5/issues/18169">issue</a>).</p>

<h1 id="smart-match-">Smart match <a name="Smart"></a></h1>
<p>This is a long-story subject, I know from lectures that it is “hard as hell” to implement feature (in particular has DWIM issues), but I would like it, one day, maybe, if possible, pleeaaaaase…
<img src="/assets/images/ybl4i0t67fikby9uw2wp.jpg" alt="Please" /></p>

<h1 id="a-much-better-repl-">A much better REPL <a name="REPL"></a></h1>
<p>The python REPL is far far ahead everything you can have in Perl (but on the other hand, Perl oneliner capacity is far ahead).</p>

<p>My typical workflow for trying ideas in Perl is to write a file then execute it (or alternatively <code class="language-plaintext highlighter-rouge">perl -e</code>) while my typical workflow for trying ideas in Python is to type <code class="language-plaintext highlighter-rouge">python3</code> and go with the REPL.</p>

<p>I have seen a talk from <strong>RJBS</strong> that made extensive and impressive use of Perl debugger, but I’m not doing the same :grinning:</p>

<p>When a pure pythonista at work made his first contribution to a Perl script, his first remark was “Where is the REPL, I typed <code class="language-plaintext highlighter-rouge">perl</code> then my commands but nothing happens”.</p>

<h1 id="and-more-">And more… <a name="More"></a></h1>
<p>I could have added <strong>better threads</strong> and <strong>nativecall</strong> (see <a href="https://docs.raku.org/language/nativecall">nativecall</a> and Perl <a href="https://metacpan.org/pod/NativeCall">port</a>) to the list but it was already too unrealistic :smiley:</p>

<p>I also like ideas (isa, sharpy equalities, multi sub…) presented by <strong>Paul Evans</strong> in his FOSDEM talk that I reviewed <a href="https://dev.to/thibaultduponchelle/perl-in-2025-fosdem-video-review-1k70">here</a></p>
